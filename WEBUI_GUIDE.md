# 🌐 WebUI Guide - 完全ガイド

## 🚀 クイックスタート

### 1. 起動方法
```bash
# 方法1: 簡単起動
python launch_webui.py

# 方法2: 直接起動  
python src/webui_server.py
```

### 2. アクセス
ブラウザで http://localhost:8080 にアクセス

## ✨ 主要機能

### 🎯 **すべてブラウザで完結**
- ❌ コマンドライン操作不要
- ❌ 複数ツール起動不要
- ✅ ブラウザ1つですべて完了

### 💬 **完全な会話保存**
```
conversations/
├── conversation_1.json  # 全メッセージ保存
├── conversation_2.json  # ユーザー決定記録
└── conversation_3.json  # AI応答履歴
```

### 🤖 **直感的なAI対話**
1. **プロジェクト説明** → テキストボックスに入力
2. **AI自動処理** → リアルタイム進捗表示
3. **ユーザー確認** → 必要時にポップアップ
4. **完成** → ファイル生成とダウンロード

## 📱 インターフェース説明

### メイン画面
```
┌─────────────────┬──────────────────────────────┐
│   会話履歴      │         メインチャット        │
│                │                              │
│ ＋新しい会話     │  🤖 AI Collaboration System  │
│                │                              │
│ 📝 過去の会話1  │  [会話内容がここに表示]      │
│ 📝 過去の会話2  │                              │
│ 📝 過去の会話3  │  ┌─────────────────────────┐ │
│                │  │ メッセージ入力エリア     │ │
│                │  └─────────────────────────┘ │
└─────────────────┴──────────────────────────────┘
```

### 🎨 メッセージタイプ
- **🙋 ユーザー**: 青い吹き出し（右寄せ）
- **🤖 システム**: グレー吹き出し（中央）
- **🧠 ChatGPT**: 緑の吹き出し（左寄せ）
- **⚡ Claude**: オレンジの吹き出し（左寄せ）
- **❌ エラー**: 赤い警告表示

### 🔔 ユーザー決定ポップアップ
```
┌─────────────────────────────────┐
│  ユーザー判断が必要です          │
├─────────────────────────────────┤
│                                │
│  質問: どの技術スタックを使用？  │
│                                │
│  □ Python + FastAPI            │
│  ☑ Node.js + Express          │
│  □ Java + Spring              │
│                                │
│     [キャンセル]  [決定]        │
└─────────────────────────────────┘
```

## 🔄 典型的な使用フロー

### フロー 1: 新規プロジェクト
```
1. 「+ 新しい会話を開始」クリック
2. プロジェクト説明を入力
   例: "ECサイトを作りたい"
3. [送信] ボタンをクリック
4. AI処理の進捗をリアルタイム表示
5. 必要に応じてユーザー確認ポップアップ
6. 完成したファイルをダウンロード
```

### フロー 2: 過去の会話継続
```
1. サイドバーから過去の会話を選択
2. 会話履歴が自動で読み込まれる
3. 追加の要求や修正を入力
4. 継続的にAI処理を実行
```

## 📊 会話保存の詳細

### 保存される内容
```json
{
  "id": "conversation_uuid",
  "project_request": "ユーザーの最初のリクエスト",
  "created_at": "2024-01-01T12:00:00",
  "status": "completed",
  "messages": [
    {
      "type": "user",
      "content": "ECサイトを作りたい",
      "timestamp": "2024-01-01T12:00:01"
    },
    {
      "type": "chatgpt", 
      "content": "設計を開始します...",
      "timestamp": "2024-01-01T12:00:02"
    }
  ],
  "user_decisions": [
    {
      "question": "技術スタックは？",
      "answer": "Python + FastAPI",
      "timestamp": "2024-01-01T12:01:00"
    }
  ],
  "generated_files": [
    "main.py",
    "requirements.txt",
    "README.md"
  ]
}
```

## 🎯 使いやすさの特徴

### ✅ **直感的操作**
- チャットアプリのような自然な操作
- 必要な時だけポップアップで確認
- 自動保存で作業紛失なし

### ✅ **わかりやすい表示**
- リアルタイム進捗バー
- カラーコードでメッセージ区別
- タイムスタンプで時系列把握

### ✅ **完全な履歴管理**
- すべての会話を自動保存
- 過去プロジェクトの再開可能
- 決定理由も含めて記録

## 🔧 設定とカスタマイズ

### ポート変更
```python
# launch_webui.py の最後の行を変更
server.run(host="localhost", port=8080)  # ポート番号を変更
```

### 保存場所変更
```python
# webui_server.py の ConversationManager で変更
self.conversations_dir = Path("conversations")  # ディレクトリ変更
```

## 🚨 トラブルシューティング

### Q: ページが表示されない
```bash
# ポートが使用中の場合
netstat -ano | findstr :8080
# 別のポートを使用するか、プロセスを終了
```

### Q: WebSocket接続エラー
```
1. ファイアウォール設定を確認
2. ブラウザのコンソールでエラー確認
3. サーバーを再起動
```

### Q: 会話が保存されない
```
1. conversations/ フォルダの書き込み権限確認
2. ディスク容量確認
3. ログファイルでエラー確認
```

## 🎉 完全WebUI体験

この WebUI により、**すべての操作がブラウザで完結**します：

- ✅ プロジェクト作成
- ✅ AI協調実行
- ✅ ユーザー決定
- ✅ 進捗確認
- ✅ 結果確認
- ✅ 会話履歴
- ✅ ファイルダウンロード

**コマンドラインは一切不要！**直感的で使いやすい最高のAI協調体験をお楽しみください！ 🌟